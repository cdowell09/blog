{{- $isHome := .IsHome -}}
{{- $pageTitle := cond $isHome site.Title (printf "%s | %s" .Title site.Title) -}}
{{- $description := .Description | default .Params.description | default site.Params.description -}}
{{- $ogType := cond (eq .Section "posts") "article" "website" -}}
{{- $imagePath := .Params.image | default site.Params.defaultImage -}}
{{- $imageURL := "" -}}
{{- with $imagePath }}{{ $imageURL = . | absURL }}{{ end -}}
{{- $styles := resources.Get "css/main.css" | minify | fingerprint -}}
<!doctype html>
<html lang="{{ site.Language.LanguageCode | default "en" }}">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ $pageTitle }}</title>
    <meta name="description" content="{{ $description }}">
    <meta name="generator" content="Hugo {{ hugo.Version }}">
    <link rel="canonical" href="{{ .Permalink }}">
    <meta property="og:title" content="{{ $pageTitle }}">
    <meta property="og:description" content="{{ $description }}">
    <meta property="og:type" content="{{ $ogType }}">
    <meta property="og:url" content="{{ .Permalink }}">
    {{- with $imageURL }}
    <meta property="og:image" content="{{ . }}">
    {{- end }}
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{{ $pageTitle }}">
    <meta name="twitter:description" content="{{ $description }}">
    {{- with $imageURL }}
    <meta name="twitter:image" content="{{ . }}">
    {{- end }}
    <link rel="icon" type="image/svg+xml" href="{{ "favicon.svg" | relURL }}">
    {{ with .OutputFormats.Get "rss" }}
    <link rel="alternate" type="{{ .MediaType.Type }}" title="{{ site.Title }}" href="{{ .RelPermalink }}">
    {{ end }}
    <link rel="stylesheet" href="{{ $styles.RelPermalink }}" integrity="{{ $styles.Data.Integrity }}">
  </head>
  <body>
    <header class="site-header">
      <div class="wrap">
        <a class="brand" href="{{ site.Home.RelPermalink }}">{{ site.Title }}</a>
        <nav aria-label="Main navigation">
          <a href="{{ site.Home.RelPermalink }}">Home</a>
          <a href="{{ "about/" | relURL }}">About</a>
          <a href="{{ "index.xml" | relURL }}">RSS</a>
        </nav>
      </div>
    </header>
    <main class="wrap">
      {{ block "main" . }}{{ end }}
    </main>
    <footer class="site-footer">
      <div class="wrap">
        <small>Â© {{ now.Year }} {{ site.Params.author.name }}. Built with Hugo.</small>
      </div>
    </footer>
  </body>
</html>
